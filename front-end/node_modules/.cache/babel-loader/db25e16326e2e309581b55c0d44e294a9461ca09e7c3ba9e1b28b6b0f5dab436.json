{"ast":null,"code":"import { createElementVNode as _createElementVNode, withModifiers as _withModifiers, createCommentVNode as _createCommentVNode, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"form-inline position-absolute top-0 start-50 translate-middle-x\",\n  style: {\n    \"z-index\": \"1\"\n  }\n};\nconst _hoisted_2 = {\n  class: \"input-group\"\n};\nconst _hoisted_3 = /*#__PURE__*/_createElementVNode(\"input\", {\n  class: \"form-control border border-danger rounded-4 rounded-end\",\n  type: \"number\",\n  placeholder: \"Range\",\n  \"aria-label\": \"Search\"\n}, null, -1 /* HOISTED */);\nconst _hoisted_4 = /*#__PURE__*/_createElementVNode(\"div\", {\n  id: \"map-div\",\n  style: {\n    \"width\": \"100%\",\n    \"height\": \"100vh\"\n  }\n}, null, -1 /* HOISTED */);\nexport function render(_ctx, _cache) {\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createElementVNode(\"form\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_hoisted_3, _createElementVNode(\"button\", {\n    class: \"btn btn-danger rounded-4 rounded-start\",\n    type: \"submit\",\n    onClick: _cache[0] || (_cache[0] = _withModifiers((...args) => _ctx.loadHotelMarkers && _ctx.loadHotelMarkers(...args), [\"prevent\"]))\n  }, \"Search\")])]), _hoisted_4, _createCommentVNode(\" <MapMarker\\n    :pos=\\\"{lat, lng}\\\"\\n    :gmap=\\\"map\\\"\\n  ></MapMarker> \")], 64 /* STABLE_FRAGMENT */);\n}","map":{"version":3,"names":["class","style","_createElementVNode","type","placeholder","id","_createElementBlock","_Fragment","_hoisted_1","_hoisted_2","_hoisted_3","onClick","_cache","_withModifiers","args","_ctx","loadHotelMarkers","_hoisted_4","_createCommentVNode"],"sources":["C:\\SIEMENS_Proj\\front-end\\src\\App.vue"],"sourcesContent":["<template>\n  <form class=\"form-inline position-absolute top-0 start-50 translate-middle-x\" style=\"z-index: 1\">\n    <div class=\"input-group\">\n      <input class=\"form-control border border-danger rounded-4 rounded-end\" type=\"number\" placeholder=\"Range\" aria-label=\"Search\">\n      <button class=\"btn btn-danger rounded-4 rounded-start\" type=\"submit\"\n        @click.prevent=\"loadHotelMarkers\"\n      >Search</button>\n    </div>\n  </form>\n\n  <div id=\"map-div\" style=\"width:100%; height: 100vh\"></div>\n  <!-- <MapMarker\n    :pos=\"{lat, lng}\"\n    :gmap=\"map\"\n  ></MapMarker> -->\n\n</template>\n\n<style>\n  input::-webkit-outer-spin-button,\n  input::-webkit-inner-spin-button {\n    -webkit-appearance: none;\n  }\n</style>\n\n<script>\nimport { Loader } from '@googlemaps/js-api-loader';\nimport { ref, onMounted } from 'vue'\n\n\nexport default {\n  name: 'App',\n\n  data(){\n    return {\n      lat: ,\n      lng: 0,\n      position: new Object(),\n      map: [],\n      hotels: [],\n      markers: []\n    };\n  },\n\n  created() {\n    this.getLocation()\n    this.loadMap()\n    // this.loadHotelMarkers()\n  },\n\n  // onMounted(){\n  //   this.loadHotelMarkers()\n  // },\n\n  methods: {\n    getLocation() {\n      if (navigator.geolocation) {\n        navigator.geolocation.getCurrentPosition((position) => {\n          this.lat = position.coords.latitude   \n          this.lng = position.coords.longitude\n          this.position.lat = position.coords.latitude\n          this.position.lng = position.coords.longitude\n          console.log(\"getloc \" + this.lat   )\n        })\n      } else {\n        console.log(\"Geolocation is not supported by this browser.\")\n      }\n    },\n\n    async loadMap() {\n\n      console.log(this.lat, this.lng)\n      const loader = new Loader({ apiKey: 'AIzaSyA1M_-TOE9rtwD_SkcfAkcjEpHJhk6RY6g' });\n\n      try {\n          await loader.importLibrary(\"maps\");\n\n          const position = { lat: this.lat, lng: this.lng};\n\n          this.map = new google.maps.Map(document.getElementById(\"map-div\"), {\n              zoom: 15,\n              center: {lat: this.lat, lng: this.lng},\n              // mapId: \"NoPOI\"\n              styles:  [\n                      {\n                        featureType: \"poi\",\n                        stylers: [{ visibility: \"off\" }],\n                      }\n                    ]\n          });\n\n          this.marker = new google.maps.Marker({\n            map: this.map,\n            position: {lat: this.lat, lng: this.lng}\n          });\n\n\n      } catch (error) {\n          console.error(\"Error loading map:\", error);\n          \n      }\n    },\n\n    async loadHotelMarkers(){\n      console.log(this.lat)\n\n      for(var mi in this.markers){\n        this.markers[mi].setMap(null)\n      }\n\n      console.log(\"{\\\"range\\\":\\\"100\\\", \\\"range\\\":\\\"\" + this.position.lat + \"\\\", \\\"lng\\\":\\\"\" + this.lng + \"\\\"}\")\n      let hotelsJSON = await fetch(\"http://localhost:8000/hotels/retall\", {\n          method: \"POST\",\n          headers: { 'Content-Type': 'application/json' },\n          body: \"{\\\"range\\\":\\\"100\\\", \\\"lat\\\":\\\"\" + this.lat + \"\\\", \\\"lng\\\":\\\"\" + this.lng + \"\\\"}\"\n      })\n      this.hotels = await hotelsJSON.json()\n\n      console.log(this.hotels)\n\n      for(var i in this.hotels){\n        let hotel  = this.hotels[i]\n        console.log(hotel, hotel.lat, hotel.lng)\n        this.markers[i] = new google.maps.Marker({\n              map: this.map,\n              position: {lat: hotel.lat, lng: hotel.lng}\n        });\n      }\n    }\n  }\n}\n</script>\n"],"mappings":";;EACQA,KAAK,EAAC,iEAAiE;EAACC,KAAkB,EAAlB;IAAA;EAAA;;;EACvED,KAAK,EAAC;AAAa;gCACtBE,mBAAA,CAA6H;EAAtHF,KAAK,EAAC,yDAAyD;EAACG,IAAI,EAAC,QAAQ;EAACC,WAAW,EAAC,OAAO;EAAC,YAAU,EAAC;;gCAOxHF,mBAAA,CAA0D;EAArDG,EAAE,EAAC,SAAS;EAACJ,KAAiC,EAAjC;IAAA;IAAA;EAAA;;;uBAVpBK,mBAAA,CAAAC,SAAA,SACEL,mBAAA,CAOO,QAPPM,UAOO,GANLN,mBAAA,CAKM,OALNO,UAKM,GAJJC,UAA6H,EAC7HR,mBAAA,CAEgB;IAFRF,KAAK,EAAC,wCAAwC;IAACG,IAAI,EAAC,QAAQ;IACjEQ,OAAK,EAAAC,MAAA,QAAAA,MAAA,MALdC,cAAA,KAAAC,IAAA,KAKwBC,IAAA,CAAAC,gBAAA,IAAAD,IAAA,CAAAC,gBAAA,IAAAF,IAAA,CAAgB;KACjC,QAAM,E,KAIXG,UAA0D,EAC1DC,mBAAA,6EAGiB,C","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}