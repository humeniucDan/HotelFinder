{"ast":null,"code":"import { Loader } from '@googlemaps/js-api-loader';\nimport MapMarker from './components/MapMarker.vue';\nexport default {\n  name: 'App',\n  data() {\n    return {\n      lat: ref(0),\n      lng: ref(0),\n      position: new Object(),\n      map: [],\n      hotels: [],\n      markers: []\n    };\n  },\n  created() {\n    this.getLocation();\n    this.loadMap();\n    this.loadHotelMarkers();\n  },\n  methods: {\n    getLocation() {\n      if (navigator.geolocation) {\n        navigator.geolocation.getCurrentPosition(position => {\n          this.lat = position.coords.latitude;\n          this.lng = position.coords.longitude;\n          this.position.lat = position.coords.latitude;\n          this.position.lng = position.coords.longitude;\n        });\n      } else {\n        console.log(\"Geolocation is not supported by this browser.\");\n      }\n    },\n    async loadMap() {\n      console.log(this.lat, this.lng);\n      const loader = new Loader({\n        apiKey: 'AIzaSyA1M_-TOE9rtwD_SkcfAkcjEpHJhk6RY6g'\n      });\n      try {\n        await loader.importLibrary(\"maps\");\n        const position = {\n          lat: this.lat,\n          lng: this.lng\n        };\n        this.map = new google.maps.Map(document.getElementById(\"map-div\"), {\n          zoom: 15,\n          center: {\n            lat: this.lat,\n            lng: this.lng\n          },\n          // mapId: \"NoPOI\"\n          styles: [{\n            featureType: \"poi\",\n            stylers: [{\n              visibility: \"off\"\n            }]\n          }]\n        });\n        this.marker = new google.maps.Marker({\n          map: this.map,\n          position: {\n            lat: this.lat,\n            lng: this.lng\n          }\n        });\n      } catch (error) {\n        console.error(\"Error loading map:\", error);\n      }\n    },\n    async loadHotelMarkers() {\n      console.log(this.lat);\n      for (var mi in this.markers) {\n        this.markers[mi].setMap(null);\n      }\n      console.log(\"{\\\"range\\\":\\\"100\\\", \\\"range\\\":\\\"\" + this.position.lat + \"\\\", \\\"lng\\\":\\\"\" + this.lng + \"\\\"}\");\n      let hotelsJSON = await fetch(\"http://localhost:8000/hotels/retall\", {\n        method: \"POST\",\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: \"{\\\"range\\\":\\\"100\\\", \\\"lat\\\":\\\"\" + this.lat + \"\\\", \\\"lng\\\":\\\"\" + this.lng + \"\\\"}\"\n      });\n      this.hotels = await hotelsJSON.json();\n      console.log(this.hotels);\n      for (var i in this.hotels) {\n        let hotel = this.hotels[i];\n        console.log(hotel, hotel.lat, hotel.lng);\n        this.markers[i] = new google.maps.Marker({\n          map: this.map,\n          position: {\n            lat: hotel.lat,\n            lng: hotel.lng\n          }\n        });\n      }\n    }\n  }\n};","map":{"version":3,"names":["Loader","MapMarker","name","data","lat","ref","lng","position","Object","map","hotels","markers","created","getLocation","loadMap","loadHotelMarkers","methods","navigator","geolocation","getCurrentPosition","coords","latitude","longitude","console","log","loader","apiKey","importLibrary","google","maps","Map","document","getElementById","zoom","center","styles","featureType","stylers","visibility","marker","Marker","error","mi","setMap","hotelsJSON","fetch","method","headers","body","json","i","hotel"],"sources":["C:\\SIEMENS_Proj\\front-end\\src\\App.vue"],"sourcesContent":["<template>\n  <form class=\"form-inline position-absolute top-0 start-50 translate-middle-x\" style=\"z-index: 1\">\n    <div class=\"input-group\">\n      <input class=\"form-control border border-danger rounded-4 rounded-end\" type=\"number\" placeholder=\"Range\" aria-label=\"Search\">\n      <button class=\"btn btn-danger rounded-4 rounded-start\" type=\"submit\"\n      >Search</button>\n    </div>\n  </form>\n\n  <div id=\"map-div\" style=\"width:100%; height: 100vh\"></div>\n  <!-- <MapMarker\n    :pos=\"{lat, lng}\"\n    :gmap=\"map\"\n  ></MapMarker> -->\n\n</template>\n\n<style>\n  input::-webkit-outer-spin-button,\n  input::-webkit-inner-spin-button {\n    -webkit-appearance: none;\n  }\n</style>\n\n<script>\nimport { Loader } from '@googlemaps/js-api-loader';\nimport MapMarker from './components/MapMarker.vue';\n\nexport default {\n  name: 'App',\n\n  data(){\n    return {\n      lat: ref(0),\n      lng: ref(0),\n      position: new Object(),\n      map: [],\n      hotels: [],\n      markers: []\n    };\n  },\n\n  created() {\n    this.getLocation()\n    this.loadMap()\n    this.loadHotelMarkers()\n  },\n\n  methods: {\n    getLocation() {\n      if (navigator.geolocation) {\n        navigator.geolocation.getCurrentPosition((position) => {\n          this.lat = position.coords.latitude   \n          this.lng = position.coords.longitude\n          this.position.lat = position.coords.latitude\n          this.position.lng = position.coords.longitude\n        })\n      } else {\n        console.log(\"Geolocation is not supported by this browser.\")\n      }\n    },\n\n    async loadMap() {\n\n      console.log(this.lat, this.lng)\n      const loader = new Loader({ apiKey: 'AIzaSyA1M_-TOE9rtwD_SkcfAkcjEpHJhk6RY6g' });\n\n      try {\n          await loader.importLibrary(\"maps\");\n\n          const position = { lat: this.lat, lng: this.lng};\n\n          this.map = new google.maps.Map(document.getElementById(\"map-div\"), {\n              zoom: 15,\n              center: {lat: this.lat, lng: this.lng},\n              // mapId: \"NoPOI\"\n              styles:  [\n                      {\n                        featureType: \"poi\",\n                        stylers: [{ visibility: \"off\" }],\n                      }\n                    ]\n          });\n\n          this.marker = new google.maps.Marker({\n            map: this.map,\n            position: {lat: this.lat, lng: this.lng}\n          });\n\n\n      } catch (error) {\n          console.error(\"Error loading map:\", error);\n          \n      }\n    },\n\n    async loadHotelMarkers(){\n      console.log(this.lat)\n\n      for(var mi in this.markers){\n        this.markers[mi].setMap(null)\n      }\n\n      console.log(\"{\\\"range\\\":\\\"100\\\", \\\"range\\\":\\\"\" + this.position.lat + \"\\\", \\\"lng\\\":\\\"\" + this.lng + \"\\\"}\")\n      let hotelsJSON = await fetch(\"http://localhost:8000/hotels/retall\", {\n          method: \"POST\",\n          headers: { 'Content-Type': 'application/json' },\n          body: \"{\\\"range\\\":\\\"100\\\", \\\"lat\\\":\\\"\" + this.lat + \"\\\", \\\"lng\\\":\\\"\" + this.lng + \"\\\"}\"\n      })\n      this.hotels = await hotelsJSON.json()\n\n      console.log(this.hotels)\n\n      for(var i in this.hotels){\n        let hotel  = this.hotels[i]\n        console.log(hotel, hotel.lat, hotel.lng)\n        this.markers[i] = new google.maps.Marker({\n              map: this.map,\n              position: {lat: hotel.lat, lng: hotel.lng}\n        });\n      }\n    }\n  }\n}\n</script>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}