{"ast":null,"code":"import { vModelText as _vModelText, createElementVNode as _createElementVNode, withDirectives as _withDirectives, withModifiers as _withModifiers, resolveComponent as _resolveComponent, createVNode as _createVNode, vModelSelect as _vModelSelect, createStaticVNode as _createStaticVNode, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"form-inline position-absolute top-0 start-50 translate-middle-x\",\n  style: {\n    \"z-index\": \"1\"\n  }\n};\nconst _hoisted_2 = {\n  class: \"input-group\"\n};\nconst _hoisted_3 = {\n  class: \"d-flex\"\n};\nconst _hoisted_4 = /*#__PURE__*/_createElementVNode(\"div\", {\n  id: \"map-div\",\n  style: {\n    \"width\": \"85%\",\n    \"height\": \"100vh\"\n  }\n}, null, -1 /* HOISTED */);\nconst _hoisted_5 = {\n  class: \"bg-secondary text-white bg-opacity-25\",\n  style: {\n    \"z-index\": \"3\",\n    \"width\": \"15%\"\n  }\n};\nconst _hoisted_6 = {\n  id: \"overlay\"\n};\nconst _hoisted_7 = {\n  class: \"p-3 mb-2 bg-danger text-white rounded h-75 position-absolute top-50 start-50 translate-middle\",\n  style: {\n    \"width\": \"30vw\"\n  }\n};\nconst _hoisted_8 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"form-group m-5\"\n}, [/*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"exampleFormControlInput1\"\n}, [/*#__PURE__*/_createElementVNode(\"strong\", null, \"Name:\")]), /*#__PURE__*/_createElementVNode(\"input\", {\n  class: \"form-control\",\n  id: \"exampleFormControlInput1\"\n})], -1 /* HOISTED */);\nconst _hoisted_9 = {\n  class: \"form-group m-5\"\n};\nconst _hoisted_10 = /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"exampleFormControlSelect1\"\n}, [/*#__PURE__*/_createElementVNode(\"strong\", null, \"Pick a room:\")], -1 /* HOISTED */);\nconst _hoisted_11 = /*#__PURE__*/_createElementVNode(\"option\", null, \"1\", -1 /* HOISTED */);\nconst _hoisted_12 = /*#__PURE__*/_createElementVNode(\"option\", null, \"2\", -1 /* HOISTED */);\nconst _hoisted_13 = /*#__PURE__*/_createElementVNode(\"option\", null, \"3\", -1 /* HOISTED */);\nconst _hoisted_14 = /*#__PURE__*/_createElementVNode(\"option\", null, \"4\", -1 /* HOISTED */);\nconst _hoisted_15 = /*#__PURE__*/_createElementVNode(\"option\", null, \"5\", -1 /* HOISTED */);\nconst _hoisted_16 = [_hoisted_11, _hoisted_12, _hoisted_13, _hoisted_14, _hoisted_15];\nconst _hoisted_17 = /*#__PURE__*/_createStaticVNode(\"<div class=\\\"form m-5 d-flex flex-row\\\"><div class=\\\"w-50\\\"><label for=\\\"checkIn\\\"><strong>Check-in:</strong></label><input id=\\\"checkIn\\\" class=\\\"form-control\\\" type=\\\"date\\\"></div><div class=\\\"w-50\\\"><label for=\\\"checkOut\\\"><strong>Check-out:</strong></label><input id=\\\"checkOut\\\" class=\\\"form-control\\\" type=\\\"date\\\"></div></div>\", 1);\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_hotels_list = _resolveComponent(\"hotels-list\");\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createElementVNode(\"form\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_withDirectives(_createElementVNode(\"input\", {\n    class: \"form-control border border-danger rounded-4 rounded-end\",\n    type: \"number\",\n    placeholder: \"Range\",\n    \"aria-label\": \"Search\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.range = $event)\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.range]]), _createElementVNode(\"button\", {\n    class: \"btn btn-danger rounded-4 rounded-start\",\n    type: \"submit\",\n    onClick: _cache[1] || (_cache[1] = _withModifiers((...args) => $options.loadHotelMarkers && $options.loadHotelMarkers(...args), [\"prevent\"]))\n  }, \"Search\")])]), _createElementVNode(\"div\", _hoisted_3, [_hoisted_4, _createElementVNode(\"div\", _hoisted_5, [_createVNode(_component_hotels_list, {\n    hotelsData: $data.hotels\n  }, null, 8 /* PROPS */, [\"hotelsData\"])])]), _createElementVNode(\"div\", _hoisted_6, [_createElementVNode(\"div\", _hoisted_7, [_createElementVNode(\"form\", null, [_hoisted_8, _createElementVNode(\"div\", _hoisted_9, [_hoisted_10, _withDirectives(_createElementVNode(\"select\", {\n    class: \"form-control\",\n    id: \"exampleFormControlSelect1\",\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $data.roomNumber = $event)\n  }, [..._hoisted_16], 512 /* NEED_PATCH */), [[_vModelSelect, $data.roomNumber]])]), _hoisted_17, _createElementVNode(\"button\", {\n    type: \"button\",\n    class: \"btn btn-outline-light\",\n    onClick: _cache[3] || (_cache[3] = _withModifiers((...args) => $options.loadHotelRooms && $options.loadHotelRooms(...args), [\"prevent\"]))\n  }, \"Light\")])])])], 64 /* STABLE_FRAGMENT */);\n}","map":{"version":3,"names":["class","style","_createElementVNode","id","for","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_createStaticVNode","_createElementBlock","_Fragment","_hoisted_1","_hoisted_2","type","placeholder","_cache","$event","$data","range","onClick","_withModifiers","args","$options","loadHotelMarkers","_hoisted_3","_hoisted_4","_hoisted_5","_createVNode","_component_hotels_list","hotelsData","hotels","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","roomNumber","_hoisted_16","_hoisted_17","loadHotelRooms"],"sources":["C:\\SIEMENS_Proj\\front-end\\src\\App.vue"],"sourcesContent":["<template>\n  <form class=\"form-inline position-absolute top-0 start-50 translate-middle-x\" style=\"z-index: 1\">\n    <div class=\"input-group\">\n      <input class=\"form-control border border-danger rounded-4 rounded-end\" type=\"number\" placeholder=\"Range\" aria-label=\"Search\"\n        v-model=\"range\"\n      >\n      <button class=\"btn btn-danger rounded-4 rounded-start\" type=\"submit\"\n        @click.prevent=\"loadHotelMarkers\"\n      >Search</button>\n    </div>\n  </form>\n  \n\n  <div class=\"d-flex\">\n    <div id=\"map-div\" style=\"width:85%; height: 100vh\"></div>\n    <div class=\"bg-secondary text-white bg-opacity-25\" style=\"z-index:3; width:15%\">\n      <hotels-list\n        :hotelsData=\"hotels\"\n      >\n\n      </hotels-list>\n    </div>\n  </div>\n\n  <div id=\"overlay\">\n    <div \n      class=\"p-3 mb-2 bg-danger text-white rounded h-75 position-absolute top-50 start-50 translate-middle\"\n      style=\"width:30vw\"\n    >\n      <form>\n        <div class=\"form-group m-5\">\n          <label for=\"exampleFormControlInput1\"><strong>Name:</strong></label>\n          <input class=\"form-control\" id=\"exampleFormControlInput1\">\n        </div>\n        <div class=\"form-group m-5\">\n          <label for=\"exampleFormControlSelect1\"><strong>Pick a room:</strong></label>\n          <select class=\"form-control\" id=\"exampleFormControlSelect1\"\n            v-model=\"roomNumber\"\n          >\n            <option>1</option>\n            <option>2</option>\n            <option>3</option>\n            <option>4</option>\n            <option>5</option>\n          </select>\n        </div>\n        <div class=\"form m-5 d-flex flex-row\">\n          <div class=\" w-50\">\n            <label for=\"checkIn\"><strong>Check-in:</strong></label>\n            <input id=\"checkIn\" class=\"form-control\" type=\"date\"/>\n          </div>\n          <div  class=\" w-50\">\n            <label for=\"checkOut\"><strong>Check-out:</strong></label>\n            <input id=\"checkOut\" class=\"form-control\" type=\"date\"/>\n          </div>\n        </div>\n        <button type=\"button\" class=\"btn btn-outline-light\"\n          @click.prevent=\"loadHotelRooms\"\n        >Light</button>\n      </form>\n    </div>\n  </div>\n\n\n</template>\n\n<style>\n  input::-webkit-outer-spin-button,\n  input::-webkit-inner-spin-button {\n    -webkit-appearance: none;\n  }\n  #overlay {\n    position: fixed;\n    display: block;\n    width: 100%;\n    height: 100%;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    background-color: rgba(0,0,0,0.5);\n    z-index: 10;\n    cursor: pointer;\n  }\n</style>\n\n<script>\nimport { Loader } from '@googlemaps/js-api-loader';\nimport HotelsList from './components/ValidHotelsList.vue';\n\n\nexport default {\n  components:{\n    HotelsList\n  },\n\n  data(){\n    return {\n      lat: 0,\n      lng: 0,\n      range: 2,\n      position: new Object(),\n      map: [],\n      hotels: [],\n      curPosMarker: [],\n      hotelMarkers: [],\n      roomNumber: 0\n    };\n  },\n\n  created() {\n    this.getLocation()\n    this.loadMap()\n    // this.loadHotelMarkers()\n  },\n\n\n  methods: {\n    getLocation() {\n      if (navigator.geolocation) {\n        navigator.geolocation.getCurrentPosition((position) => {\n          this.lat = position.coords.latitude   \n          this.lng = position.coords.longitude\n          this.position.lat = position.coords.latitude\n          this.position.lng = position.coords.longitude\n          // console.log(\"getloc \" + this.lat)\n        })\n      } else {\n        console.log(\"Geolocation is not supported by this browser.\")\n      }\n    },\n\n    async loadMap() {\n      const loader = new Loader({ apiKey: 'AIzaSyA1M_-TOE9rtwD_SkcfAkcjEpHJhk6RY6g' });\n\n      try {\n          await loader.importLibrary(\"maps\");\n\n          const position = { lat: this.lat, lng: this.lng};\n\n          this.map = new google.maps.Map(document.getElementById(\"map-div\"), {\n              zoom: 15,\n              center: {lat: this.lat, lng: this.lng},\n              // mapId: \"NoPOI\"\n              styles:  [\n                      {\n                        featureType: \"poi\",\n                        stylers: [{ visibility: \"off\" }],\n                      }\n                    ]\n          });\n\n          this.curPosMarker = new google.maps.Marker({\n            map: this.map,\n            position: {lat: this.lat, lng: this.lng}\n          });\n\n\n      } catch (error) {\n          console.error(\"Error loading map:\", error);\n          \n      }\n    },\n\n    async loadHotelMarkers(){\n\n      for(var mi in this.hotelMarkers){\n        console.log(this.hotelMarkers[mi])  \n        this.hotelMarkers[mi].setMap(null)\n        this.hotelMarkers[mi].setVisible(false)\n      }\n\n      this.hotelMarkers = []\n      \n      let hotelsJSON = await fetch(\"http://localhost:8000/hotels/retall\", {\n          method: \"POST\",\n          headers: { 'Content-Type': 'application/json' },\n          body: \"{\\\"range\\\":\\\"\" + this.range + \"\\\", \\\"lat\\\":\\\"\" + this.lat + \"\\\", \\\"lng\\\":\\\"\" + this.lng + \"\\\"}\"\n      })\n      this.hotels = await hotelsJSON.json()\n\n      for(var i in this.hotels){\n        let hotel  = this.hotels[i]\n        this.hotelMarkers.push(new google.maps.Marker({\n              map: this.map,\n              position: {lat: hotel.lat, lng: hotel.lng}\n        }));\n\n        console.log(this.hotelMarkers[this.hotelMarkers.length-1])\n      }\n    },\n\n    async loadHotelRooms(){\n      console.log(this.room)\n    }\n  }\n}\n</script>\n"],"mappings":";;EACQA,KAAK,EAAC,iEAAiE;EAACC,KAAkB,EAAlB;IAAA;EAAA;;;EACvED,KAAK,EAAC;AAAa;;EAWrBA,KAAK,EAAC;AAAQ;gCACjBE,mBAAA,CAAyD;EAApDC,EAAE,EAAC,SAAS;EAACF,KAAgC,EAAhC;IAAA;IAAA;EAAA;;;EACbD,KAAK,EAAC,uCAAuC;EAACC,KAA4B,EAA5B;IAAA;IAAA;EAAA;;;EAShDE,EAAE,EAAC;AAAS;;EAEbH,KAAK,EAAC,+FAA+F;EACrGC,KAAkB,EAAlB;IAAA;EAAA;;gCAGEC,mBAAA,CAGM;EAHDF,KAAK,EAAC;AAAgB,I,aACzBE,mBAAA,CAAoE;EAA7DE,GAAG,EAAC;AAA0B,I,aAACF,mBAAA,CAAsB,gBAAd,OAAK,E,gBACnDA,mBAAA,CAA0D;EAAnDF,KAAK,EAAC,cAAc;EAACG,EAAE,EAAC;;;EAE5BH,KAAK,EAAC;AAAgB;iCACzBE,mBAAA,CAA4E;EAArEE,GAAG,EAAC;AAA2B,I,aAACF,mBAAA,CAA6B,gBAArB,cAAY,E;iCAIzDA,mBAAA,CAAkB,gBAAV,GAAC;iCACTA,mBAAA,CAAkB,gBAAV,GAAC;iCACTA,mBAAA,CAAkB,gBAAV,GAAC;iCACTA,mBAAA,CAAkB,gBAAV,GAAC;iCACTA,mBAAA,CAAkB,gBAAV,GAAC;qBAJTG,WAAkB,EAClBC,WAAkB,EAClBC,WAAkB,EAClBC,WAAkB,EAClBC,WAAkB,C;iCA3C9BC,kBAAA;;;uBAAAC,mBAAA,CAAAC,SAAA,SACEV,mBAAA,CASO,QATPW,UASO,GARLX,mBAAA,CAOM,OAPNY,UAOM,G,gBANJZ,mBAAA,CAEC;IAFMF,KAAK,EAAC,yDAAyD;IAACe,IAAI,EAAC,QAAQ;IAACC,WAAW,EAAC,OAAO;IAAC,YAAU,EAAC,QAAQ;IAHlI,uBAAAC,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAIiBC,KAAA,CAAAC,KAAK,GAAAF,MAAA;iDAALC,KAAA,CAAAC,KAAK,E,GAEhBlB,mBAAA,CAEgB;IAFRF,KAAK,EAAC,wCAAwC;IAACe,IAAI,EAAC,QAAQ;IACjEM,OAAK,EAAAJ,MAAA,QAAAA,MAAA,MAPdK,cAAA,KAAAC,IAAA,KAOwBC,QAAA,CAAAC,gBAAA,IAAAD,QAAA,CAAAC,gBAAA,IAAAF,IAAA,CAAgB;KACjC,QAAM,E,KAKXrB,mBAAA,CASM,OATNwB,UASM,GARJC,UAAyD,EACzDzB,mBAAA,CAMM,OANN0B,UAMM,GALJC,YAAA,CAIcC,sBAAA;IAHXC,UAAU,EAAEZ,KAAA,CAAAa;EAAM,wC,KAOzB9B,mBAAA,CAqCM,OArCN+B,UAqCM,GApCJ/B,mBAAA,CAmCM,OAnCNgC,UAmCM,GA/BJhC,mBAAA,CA8BO,eA7BLiC,UAGM,EACNjC,mBAAA,CAWM,OAXNkC,UAWM,GAVJC,WAA4E,E,gBAC5EnC,mBAAA,CAQS;IARDF,KAAK,EAAC,cAAc;IAACG,EAAE,EAAC,2BAA2B;IApCrE,uBAAAc,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAqCqBC,KAAA,CAAAmB,UAAU,GAAApB,MAAA;KArC/B,IAAAqB,WAAA,2B,gBAqCqBpB,KAAA,CAAAmB,UAAU,E,KASvBE,WASM,EACNtC,mBAAA,CAEe;IAFPa,IAAI,EAAC,QAAQ;IAACf,KAAK,EAAC,uBAAuB;IAChDqB,OAAK,EAAAJ,MAAA,QAAAA,MAAA,MAzDhBK,cAAA,KAAAC,IAAA,KAyD0BC,QAAA,CAAAiB,cAAA,IAAAjB,QAAA,CAAAiB,cAAA,IAAAlB,IAAA,CAAc;KAC/B,OAAK,E","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}